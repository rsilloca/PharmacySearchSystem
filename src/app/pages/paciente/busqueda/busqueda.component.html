<fury-page fxLayoutGap="1rem" fxLayoutGap.sm="0" fxLayoutGap.xs="0" class="dashboard" fxLayout="row">
  <div fxFlex="20rem" fxHide.xs="true" fxHide.sm="true">
    <app-filtro expandableMultiple="true" (eventFiltro)="filtrar($event)"></app-filtro>
  </div>
  <div fxFlex="calc(100% - 21rem)" fxFlex.sm="auto" fxFlex.xs="auto">
    <fury-card>
      <fury-card-header>
        <fury-card-header-heading>
          <h2>Busca lo que necesitas</h2>
        </fury-card-header-heading>
      </fury-card-header>
      <fury-card-content fxLayout="column" fxLayoutGap="1rem" [formGroup]="filtro">
        <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="1rem" fxLayout.xs="column"
          fxLayoutAlign.xs="center stretch" fxLayoutGap.xs="0">
          <mat-form-field fxFlex="calc(65% - 1rem)">
            <mat-label>Búsqueda</mat-label>
            <input matInput formControlName="nombre" placeholder="Nombre o marca de producto">
          </mat-form-field>
          <button mat-raised-button color="primary" fxFlex="calc(35% - 1rem)" (click)="filtrarProductos()"> Buscar
          </button>
        </div>
        <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="1rem">
          <span>Ordenar por:</span>
          <mat-form-field fxFlex="34.5%" fxFlex.xs="auto">
            <mat-label>Selecciona una opción</mat-label>
            <mat-select formControlName="orden">
              <mat-option [value]="0">Ninguno</mat-option>
              <mat-option [value]="1">Más cercano</mat-option>
              <mat-option [value]="2">Más económico</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <mat-grid-list #gridProductos cols="1" rowHeight="0" gutterSize="1rem">
          <mat-grid-tile *ngFor="let producto of productos" style="border-radius: 0.5rem;">
            <item-busqueda fxFlex="100%" [producto]="producto[0]" [farmacia]="producto[1]"
              [background]="getColor(producto[0].idCategoria)" [icon]="getIcon(producto[0].idCategoria)">
            </item-busqueda>
          </mat-grid-tile>
        </mat-grid-list>
        <div *ngIf="productos.length == 0" fxLayout="column" fxLayoutAlign="center center" style="min-height: 16rem;">
          <img src="/assets/svg/triste.svg" width="100px" height="100px">
          <span>No encontramos productos</span>
          <span>Intenta cambiar los filtros de búsqueda</span>
        </div>
        <mat-paginator [length]="100" [pageSize]="12"></mat-paginator>
      </fury-card-content>
    </fury-card>
  </div>
</fury-page>